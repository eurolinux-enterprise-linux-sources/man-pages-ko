.\" Copyright (C) 1995, Thomas K. Dyas <tdyas@eden.rutgers.edu>
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Created   Wed Aug  9 1995     Thomas K. Dyas <tdyas@eden.rutgers.edu>
.\"
.\" FIXME -- I can't find this in SVr4!
.\"
.\" 한국어 번역 : ASPLINUX    2000년 7월 26일
.\"
.TH SYSFS 2 "9 August 1995" "Linux 1.3.16" "Linux Programmer's Manual"
.SH 이름
sysfs \- 파일 시스템 타입 정보를 가져온다.
.SH 사용법
.BI "int sysfs(int " option ", const char * " fsname );

.BI "int sysfs(int " option ", unsigned int " fs_index ", char * " buf );

.BI "int sysfs(int " option );
.SH 설명
.B sysfs
는 커널상에 현제 있는 파일 시스템 타입에 관한 정보를 반환한다.
The specific form of the
.B sysfs
호출과 정보의 특별한 형태를 작용하는
.I option
에 따라 반환한다:

.TP
.B 1
file-system identifier string
.I fsname
을 file-system type index로 바꾼다.
.TP
.B 2
file-system type index
.I fs_index
를 null-terminated file-system identifier string으로 바꾼다. 이 문자열은 d to by
.IR buf .
에 의해 지정된 버퍼로 쓰여진다.
.I buf
가 문자열을 받아들일 충분한 공간이 있는지 확인하라.
.TP
.B 3
커널에 현재 있는 파일 시스템의 총 개수를 반환한다.

.PP
파일 시스템 타입의 번호는 0으로 시작한다.
.SH 반환값
성공 시,
.B sysfs
는 옵션
.BR 1 ,
에 대해 파일 시스템 인덱스를 반환하고, 옵션 
.BR 2 ,
에 대해 0을 반환하고, 옵션
.BR 3 .
에 대해 현제 설정된 파일 시스템의 수를 반환한다.
에러 시, \-1 이 반환된다. 그리고
.I errno
는 적절히 설정된다.
.SH 에러
.TP
.B EINVAL
.I fsname
가 유효한 file-system type identifier가 아닌 경우;
.I fs_index
가 범위를 넘어간 경우;
.I option
가 불가한 경우;
.TP
.B EFAULT
.RI " fsname " 혹은 " buf
가 접근 가능한 어드레스 영역을 넘었을 경우.
.PP
.SH 호환
SVr4.
.SH 주의
.IR /proc 
에 마운트 된 
.I proc
파일 시스템이 있는 리눅스 상에서
.IR /proc/filesystems 
에서도 같은 정보를 다룰 수 있다.
.SH 버그
지원되는 libc나 glibc가 없다.
\fIbuf\fP가 얼마나 커야 하는지 알 수 없다.

