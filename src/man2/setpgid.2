.\" Copyright (c) 1983, 1991 Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)getpgrp.2	6.4 (Berkeley) 3/10/91
.\"
.\" Modified Sat Jul 24 01:15:33 1993 by Rik Faith <faith@cs.unc.edu>
.\" Modified 15 April 1995 by Michael Chastain <mec@shell.portal.com>:
.\"   Added 'getpgid'.
.\" Modified 21 July 1996 by Andries Brouwer <aeb@cwi.nl>
.\" Modified Wed Nov  6 04:02:50 1996 by Eric S. Raymond <esr@thyrsus.com>
.\" FIXME -- error conditions need to be better documented, see kernel
.\" Modified Thu Sep  2 13:55:37 1999 by Michael Haardt <michael@moria.de>
.\"
.TH SETPGID 2 "1999년 9월 2일" "리눅스" "리눅스 프로그래머 메뉴얼"
.SH 이름
setpgid, getpgid, setpgrp, getpgrp \- 프로세스 그룹을 설정하거나 알아낸다.
.SH 사용법
.B #include <unistd.h>
.sp
.BI "int setpgid(pid_t " pid ", pid_t " pgid );
.br
.BI "pid_t getpgid(pid_t " pid );
.br
.B int setpgrp(void);
.br
.B pid_t getpgrp(void);
.SH 설명
.BR setpgid 는
.IR pid 로 
설정된 프로세스의 프로세스 그룹 ID를 
.IR pgid 로 
설정한다.
만일 
.IR pid 가 
0이라면, 현재 프로세스의 프로세스 ID가 사용된다.
만일
.IR pgid 가 
0이라면, 
.IR pid 로 
지정된 프로세스의 프로세스 ID가 사용된다.
만일 \fBsetpgid\fP를 프로세스 그룹에서 다른 프로세스 그룹으로 프로세스를 
옮기는데 사용하려면 (파이프를 만들 때 몇몇 쉘이 하는 것처럼), 
두 프로세스 그룹은 같은 세션의 속해있어야 한다.
이런 경우, \fIpgid\fP는 연계된 프로세스 그룹을 지정해야 하며 그 그룹의
세션 ID는 연계된 프로세스의 세션 ID와 일치해야 한다.

.BR getpgid 는 
.IR pid 로 
지정된 프로세스의 프로세스 그룹 ID를 리턴한다.
만일 
.IR pid 가 
0이라면, 현재 프로세스의 프로세스 ID가 사용된다.

리눅스 DLL 4.4.1 라이브러리에서,
.BR setpgrp 는 
단순히 
.BR setpgid(0,0) 를 
호출한다.

.BR getpgrp 는 
.BR getpgid(0) 와 
동일하다. 각 프로세스 그룹은 세션의 일원이며, 각 프로세스는 그 프로세스 
그룹이 일원인 세션의 일원이다.

프로세스 그룹들은 시그널 전달과, 그리고 터미널에 의해서 입력 요구들을
조정한다: 터미널 같이 같은 프로세스 그룹의 프로세스들은
전경(foreground)으로 동작하며 읽을 것이다. 그러는 동안 다른 프로세스가 
읽으려고 한다면 시그널에 의해 멈출 것이다.
이 시스템 콜들은 작업 제어(job control)를 위해 프로세스 그룹들을 만드는 
.BR csh (1)
같은 프로그램에 의해 사용된다.
.BR termios (4)에서 
기술된 
.BR TIOCGPGRP 와 
.BR TIOCSPGRP 는 
제어 터미널의 프로세스 그룹을 알아내거나 설정하기 위해 사용된다.

세션이 제어 터미널 가지고, CLOCAL은 설정되지 않으며 hangup이 발생하면,
세션 리더(leader)는 SIGHUP을 받는다. 만일 세션 리더가 종료하면,
SIGHUP 시그널은 제어 터미널의 전경 프로세스 그룹에 있는 모든 프로세스에게
보내진다.

만일 프로세스 종료가 어떤 프로세스 그룹을 고아로 만든다면, 그리고 새롭게 고아가 
된 프로세스 그룹의 어떤 프로세스가 멈춘다면, SIGHUP 시그널에 이어서 SIGCONT
시그널이 새롭게 고아가 된 프로세스 그룹의 모든 프로세스에게 보내진다.

.SH 반환값
성공시, 
.BR setpgid " 와 " setpgrp
는 0이 리턴된다. 에러시, \-1이 리턴되며, 
.IR errno 는 
적당한 값으로 설정된다.

.BR getpgid 는 
성공시 프로세스 그룹이 리턴된다.
에러시, \-1이 리턴되며, 
.IR errno 는 
적당한 값으로 설정된다.

.BR getpgrp 는 
항상 현재 프로세스 그룹이 리턴된다.
.SH 에러
.TP
.B EINVAL
.I pgid 가 
0보다 작다.
.TP
.B EPERM
여러가지 허가권 위반.
.TP
.B ESRCH
.IR pid 가 
어떤 프로세스와도 일치하지 않는다.
.SH 호환
SVr4, POSIX, 4.4BSD.
.SH 호환
.BR setpgid 와 
.BR getpgrp 은 
POSIX.1 에서 잘 작동한다.
.BR setpgrp 은 
BSD 4.2에서 잘 작동한다.
.BR getpgid 은 
SVr4에서 잘 작동한다.
.SH 관련 항목
.BR getuid (2),
.BR setsid (2),
.BR tcsetpgrp (3),
.BR termios (4)
.SH 역자
정강훈 <skyeyes@soback.kornet.net>, 2000년 5월 2일
