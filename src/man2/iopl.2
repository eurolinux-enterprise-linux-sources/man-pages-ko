.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" Copyright 1993 Rickard E. Faith (faith@cs.unc.edu)
.\" Portions extracted from linux/kernel/ioport.c (no copyright notice).
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Modified Tue Aug  1 16:47    1995 by Jochen Karrer 
.\"                              <cip307@cip.physik.uni-wuerzburg.de>
.\" Modified Tue Oct 22 08:11:14 EDT 1996 by Eric S. Raymond <esr@thyrsus.com>
.\" Modified Fri Nov 27 14:50:36 CET 1998 by Andries Brouwer <aeb@cwi.nl>
.\"
.\"
.\" 한국어 번역 : ASPLINUX    2000년 7월 27일
.\"
.TH IOPL 2 "24 July 1993" "Linux 0.99.11" "Linux Programmer's Manual"
.SH 이름
iopl \- I/O 권한 수준을 바꾼다.
.SH 사용법
.B #include <unistd.h>
/* for libc5 */
.br
.B #include <sys/io.h>
/* for glibc */
.sp
.BI "int iopl(int " level );
.SH 설명
.B iopl
는 현재 프로세스의 I/O 권한 수준을
.IR level .
에서 정해진 수준으로 바꾼다.
이 호출은 8514호환 X 서버가 리눅스하에서 작동할 수 있게 할 필요가 있다
이 X 서버가 모든 65536 I/O 포트에 접근 해야 할 필요가 있기 때문에,
.B ioperm
호출은 충분치 않다.

자유롭게 I/O 포트에 접근하는 것을 승인하는 것에 덧붙여, 더 높은 I/O 권한 수준에서 실행하는 것은 프로세스가 인터럽트를 무력화 시킬 수 있게 한다.
이것은 시스템을 파괴할 수도 있으므로 권장하는 바가 아니다.
승인은 fork와 exec에 의해 상속된다.

일반적인 프로세스에 대한 I/O 권한 수준은 0이다.
.SH 반환값
성공 시, 0이 반환되고, 에러 시, \-1이 반환된다.
.I errno
는 적절히 설정된다.
.SH 에러
.TP
.B EINVAL
.I level
이 3보다 크다.
.TP
.B EPERM
현재 사용자는 슈퍼 유저가 아니다.
.SH 커널 소스에서의 주의 "
.B iopl
는 반드시 0x3ff 범위를 넘어서는 I/O 포트에 접근하고자 할 때 사용한다:
모든 비트맵 방식의 65536 포트를 가지려면, 비트맵/프로세스 8kB가 필요하다.
.SH 호환
\fBiopl\fP는 리눅스에 특화 되어 있다. 이식을 목적으로 하는 프로세스에 쓰지 말 것.
.SH 주의
Libc5은 이것을 시스템 호출처럼 다룬다. 그리고
.IR <unistd.h> .
에 기본형을 가지고 있다. Glibc1은 기본형을 가지지 않는다. Glibc2
.I <sys/io.h>
과
.IR <sys/perm.h> .
에 모두 기본형을 가진다. 후자를 제외하곤, I386에서만 가능하다.
.SH 관련 항목
.BR ioperm (2)
.SH 역자
ASPLINUX<man@asp-linux.co.kr>, 2000년 7월 27일
