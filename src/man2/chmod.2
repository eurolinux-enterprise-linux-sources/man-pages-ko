.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" Copyright (c) 1992 Drew Eckhardt (drew@cs.colorado.edu), March 28, 1992
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Modified by Michael Haardt (michael@moria.de)
.\" Modified Wed Jul 21 20:18:11 1993 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sun Jan 12 14:31:17 MET 1997 by Michael Haardt
.\"   (michael@cantor.informatik.rwth-aachen.de): NFS details
.\"
.\" 한국어 번역 : ASPLINUX<man@asp-linux.co.kr>    2000년 7월 29일
.\"
.TH CHMOD 2 "1997년 12월 10일" "리눅스 2.0.32" "리눅스 프로그래머 메뉴얼"
.SH 이름
chmod, fchmod \- 파일의 권한 변경.
.SH 사용법
.B #include <sys/types.h>
.br
.B #include <sys/stat.h>
.sp
.BI "int chmod(const char *" path ", mode_t " mode );
.br
.BI "int fchmod(int " fildes ", mode_t " mode );
.SH 설명
path나 fildes참조에 의해 주어진 파일의 모드를 바꾼다.

모드는 아래와 같이 or'ing에의해 설명할 수 있다;
.RS
.sp
.TP 1.0i
S_ISUID
04000 실행을 위한 사용자 ID설정.
.TP
S_ISGID
02000 실행을 위한 그룹 ID설정.
.TP
S_ISVTX
01000 스티키 비트.
.TP
S_IRUSR (S_IREAD)
04000 읽기.
.TP
S_IWUSR (S_IWRITE)
02000 쓰기.
.TP
S_IXUSR (S_IEXEC)
00100 실행/찾기
.TP
S_IRGRP
00040 그룹에 의한 읽기
.TP
S_IWGRP
00020 그룹에 의한 쓰기.

.TP
S_IXGRP
00010 그룹에 의한 실행/찾기.

.TP
S_IROTH
00004 다른사람이 읽기
00004 read by others
.TP
S_IWOTH
00002 다른사람이 쓰기
.TP
S_IXOTH
00001 다른사람이 실행/찾기.
.sp
.RE

프로세스의 유효 UID는 0이거나 파일의 소유자와 같아야 한다.

프로세스의 유효UID가 0이 아니고 파일의 그룹이 프로세스의 그룹 유효ID나 추가 그룹
ID중 하나가 다르다면 S_ISGID 비트가 꺼질것이다. 하지만 이것은 에러를 유발하지 않는다.
 
NFS파일 시스템에서 접근제어는 서버가 하기 때문에 권한 제한은 이미 열린 파일에 영
향을 줄것이지만, 열린 파일은 클라이언트가 다루게 된다.
.SH 반환값
성공시, 0을 반환한다. 실패시, \-1을 반환하고 errno가 적절히 설정된다.
.SH 에러

.TP
.B EPERM
유효 UID가 파일의 소유자와 같지 않고 0이 아니다.
.TP
.B EROFS
파일이 read-only 파일시스템상에 위치했다.
.TP
.B EFAULT
.I path
가 접근 불가 공간에 있다.
.TP
.B ENAMETOOLONG
.I path
가 너무 길다.
.TP
.B ENOENT
파일이 없다.
.TP
.B ENOMEM
커널 메모리가 부족하다.
.TP
.B ENOTDIR
path가 디렉토리가 아니다.
.TP
.B EACCES
찾기 권한이 없다.
.TP
.B ELOOP
링크가 너무 많다.
.IR path .
.TP
.B EIO
I/O 에러.
.PP
fchmod의 일반적인 에러는 아래와 같다:
.TP
.B EBADF
파일 디스크립터 fildes가 적절하지 않다.
.TP
.B EROFS
위 참고.
.TP
.B EPERM
위 참고.
.TP
.B EIO
위 참고.
.SH 호환
.B chmod
명령은 SVr4, SVID, POSIX, X/OPEN, 4.4BSD에 따른다.
SVr4, EINTR, ENOLINK, EMULTIHOP는 반환하지만  ENOMEM은 반환하지 않는다.
.PP
.B fchmod
명령은 4.4BSD와 SVr4에 따른다.
.SH 관련 항목
.BR open (2),
.BR chown (2),
.BR execve (2),
.BR stat (2)
.SH 역자
ASPLINUX<man@asp-linux.co.kr>, 2000년 7월 29일
