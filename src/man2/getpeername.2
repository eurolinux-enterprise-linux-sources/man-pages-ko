.\" Copyright (c) 1983, 1991 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)getpeername.2	6.5 (Berkeley) 3/10/91
.\"
.\" Modified Sat Jul 24 16:37:50 1993 by Rik Faith <faith@cs.unc.edu>
.\" Modified Thu Jul 30 14:37:50 1993 by Martin Schulze <joey@debian.org>
.\" Modified Sun Mar 28 21:26:46 1999 by Andries Brouwer <aeb@cwi.nl>
.\"
.TH GETPEERNAME 2 "1993년 7월 30일" "BSD 맨페이지" ""
.SH 이름
getpeername \- 접속된 호스트의 이름을 알아낸다.
.SH 사용법
.B #include <sys/socket.h>
.sp
.BI "int getpeername(int " s ", struct sockaddr *" name ", socklen_t *" namelen );
.SH 설명
.BR getpeername 는 
소켓 
.IR s 에
접속된 호스트의 이름을 리턴한다.
.IR namelen 
인자는 
.IR name 이 
가리키고 있는 영역의 크기로 초기화되어야 한다.
리턴시, 이것은 리턴되는 name의 실제 크기(바이트 단위로)를 갖는다. 
제공된 버퍼가 너무 작으면 name은 잘린다.
.SH 반환값
성공시, 0이 리턴된다. 에러시, \-1이 리턴되며, 
.IR errno 는 
적당한 값으로 설정된다.
.SH 에러
.TP
.B EBADF
.I s
인자가 유효한 기술자가 아니다.
.TP
.B ENOTSOCK
.IR s 이
소켓이 아니라 파일이다.
.TP
.B ENOTCONN
소켓이 연결되지 않았다.
.TP
.B ENOBUFS
시스템에 연산을 위해서 이용할 수 있는 자원이 충분치 않다.
.TP
.B EFAULT
.IR name 이 
가리키고 있는 메모리가 유효한 프로세스 주소 영역이 아니다.

.SH 호환
SVr4, 4.4BSD
(\fBgetpeername\fP는 4.2BSD에서 처음으로 나타났다).
.SH 주의
.BR getpeername 의 
세번제 인자는 실제로는 `int *' 이다.
(그리고 이것은 BSD 4.* , libc4 ,libc5의 경우이다).
POSIX 혼란때문에 현재의 socklen_t이 제시되었다.
표준 초안에서는 아직 채택되지 않았지만, glibc2는 이미 이를
채택하여 socklen_t도 지원한다.
.BR accept (2)를 
참조하라.
.SH 관련 항목
.BR accept (2),
.BR bind (2),
.BR getsockname (2)
.SH 역자
정강훈 <skyeyes@soback.kornet.net>, 2000년 5월 2일
