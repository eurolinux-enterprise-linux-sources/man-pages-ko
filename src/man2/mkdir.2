.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" This manpage is Copyright (C) 1992 Drew Eckhardt;
.\"                               1993 Michael Haardt
.\"                               1993,1994 Ian Jackson.
.\" You may distribute it under the terms of the GNU General
.\" Public Licence. It comes with NO WARRANTY.
.\"
.TH MKDIR 2 "1994년 3월 29일" "Linux 1.0" "리눅스 프로그래머 매뉴얼"
.SH 이름
mkdir \- 디렉토리를 만든다.
.SH 사용법
.nf
.B #include <sys/stat.h>
.B #include <sys/types.h>
.B #include <fcntl.h>
.B #include <unistd.h>
.sp
.BI "int mkdir(const char *" pathname ", mode_t " mode );
.fi
.SH 설명
.BR mkdir 는 
.IR pathname 이라는 
이름의 디렉토리를 만들려고 시도한다.

.IR mode 는 
사용할 수 있는 권한에 대한 허가권을 지정한다.
이것은 일반적으로 프로세스의
.BR umask 에
의해 수정된다: 만들어진 파일의 허가권은 
.BR "(mode & ~umask)" 이다.
새롭게 만들어진 디렉토리는 프로세스의 유효(effective) uid의 소유이다.
만일 파일을 포함하는 디렉토리가 그룹 id 비트가 설정되어 있거나,
파일 시스템이 BSD 그룹 의미(semantics)로 마운트 되어 있다면, 
새 디렉토리는 부모로부터 그룹 소유권을 상속받는다:
그렇지 않으면, 프로세스의 유효 gid의 소유가 된다.

만일 부모 디렉토리가 그룹 id 비트가 설정되어 있다면 디렉토리는
새롭게 생성될 것이다.

.SH 반환값
.BR mkdir 는 
성공시 0을 반환한다. 에러가 발생하면 \-1을 반환한다(
.IR errno 는 
적당한 값으로 설정된다.)
.SH 에러
.TP
.B EEXIST
.IR pathname 가 
이미 존재한다.(반드시 디렉토리인것은 아니다.)
.TP
.B EFAULT
.IR pathname " 접근할수 있는 주소 공간이외를 가리키고 있다."
.TP
.B EACCES
부모 디렉토리가 프로세스에게 쓰기 허가권을 허락하지 않았거나, 
.IR pathname 안에 
있는 디렉토리 중 하나가 찾기(실행) 허가권이 없다.
.TP
.B ENAMETOOLONG
.IR pathname "이 너무 길다."
.TP
.B ENOENT
.IR pathname 에 
있는 디렉토리 요소가 존재하지 않거나 또는 심볼릭 링크이다.
.TP
.B ENOTDIR
.IR pathname 에 
디렉토리로서 사용한 요소가 사실은 디렉토리가 아니다.
.TP
.B ENOMEM
이용할 수 있는 커널 메모리가 충분하지 않다.
.TP
.B EROFS
.IR pathname 은 
읽기-전용 파일 시스템에 있는 파일을 가리키고 있다.
.TP
.B ELOOP
너무 많은 심볼릭 링크를 
.IR pathname 에서 
만났다.
.TP
.B ENOSPC
.IR pathname 을 
포함하는 장치에 새 디렉토리를 위한 공간이 없다.
.TP
.B ENOSPC
사용자 디스크 쿼터(quota)를 다 사용해서 새 디렉토리를 만들 수 없다.
.SH 호환
SVr4, POSIX, BSD, SYSV, X/OPEN.  SVr4 문서는 EIO, EMULTIHOP 그리고 
ENOLINK 에러 조건을 추가적으로 기술했다.; POSIX.1은 ELOOP을 생략했다.
.PP
NFS를 이루고 있는 프로토콜에서 몇가지 부적절한 것이 있다.
이것 중 몇몇은 
.BR mkdir 에 
영향을 준다.
.SH 관련 항목
.BR read (2),
.BR write (2),
.BR fcntl (2),
.BR close (2),
.BR unlink (2),
.BR open (2),
.BR mknod (2),
.BR stat (2),
.BR umask (2),
.BR mount (2),
.BR socket (2),
.BR fopen (3)
.SH 역자
정강훈 <skyeyes@soback.kornet.net>, 2000년 5월 26일
