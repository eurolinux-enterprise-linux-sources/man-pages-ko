.TH EXPR 1L "GNU 쉘 유틸리티" "FSF" \" -*- nroff -*-
.SH 이름
expr \- 표현식 평가
.SH 개요
.B expr
표현식...
.br
.B expr
{\-\-help,\-\-version}
.br
.SH 설명
이 맨페이지는 GNU 버전의
.BR expr 
을 다룬다.
.B expr
표현식을 평가하고 그 결과값을 표준출력에 쓴다.
표현식의 각 표시는 별도의 인수로 주어져야 한다. 연산수(Operand)는 숫자 또는
문자열이다. 문자열은 쉘로부터 보호하기 위하여 인용부호로 둘러싸기(quote)가 
필요할 모르지만 \fBexpr\fP 에서는 그렇지 않다.
.B expr
는 연산행위에 따라 연산수 위치에 있는 것을 정수 또는 문자열로 강제 변환한다.
.PP
연산자는 다음과 같다(우선 순위 증가순에 따라 나열):
.IP "\fI|\fP"
첫번째 인수가 널 또는 0이 아니라면 첫번째 인수를 내주고 그렇지 않으면 두번째
인수를 내준다. `or' 연산에 해당한다.
.IP "\fI&\fP"
첫번째 인수가 널 또는 0이 아니라면 첫번째 인수를 내주고 그렇지 않으면
0을 내준다.
.IP "\fI<\fP\0 \fI<=\fP\0 \fI=\fP\0 \fI==\fP\0 \fI!=\fP\0 \fI>=\fP\0 \fI>\fP"
주어진 인수를 비교하여 맞으면 1, 틀리면 0 을 반환한다.
(\fI==\fP 은 \fI=\fP와 같다.)
\fBexpr\fP 은 양쪽 인수를 숫자로 변환하여 수치 비교를 한다;
한 쪽 변수라도 숫자 변환에 실패하면 사전식 비교를 수행한다.
.IP "\fI+\fP\0 \fI-\fP"
수치 연산을 수행한다. 두 인수는 수치로 변환된다;
실패할 경우 에러가 발생한다.
.IP "\fI*\fP\0 \fI/\fP\0 \fI%\fP"
수치 연산을 수행한다( `%'은 C 언어에서처럼 나머지 연산이다).
두 인수는 숫자로 변환된다; 실패할 경우 에러가 발생한다.
.IP "\fI:\fP"
패턴 비교를 수행한다. 인수는 문자열로 변환되고 두번째 인수는 정규식으로
간주된다. 그리고 맨앞에 암묵적으로 `^' 을 추가한다.
첫번째 인수는 바로 이 정규식에 따라 비교된다.
비교가 성공하고 문자열의 일부가 `\e(' 와 `\e)'로 둘러싸여 있다면,
이 둘러싸인 부분이 \fI:\fP 표현식의 값이 된다. 아니면 비교에 성공한 문자의
갯수를 정수로 반환한다. 비교가 실패하면 \fI:\fP 연산자는 `\e('와 `\e)' 가
사용된 경우에는 널을 아니면 0 을 반환한다.
`\e(' 와 `\e)' 의 쌍은 단 한 번만 사용할 수 있다.
.TP
추가로 다음 예약어를 사용할 수 있다:
.TP
.BI match " 문자열 정규식"
패턴 비교를 할 수 있는 또 다른 방법이다. ``\fI문자열\fP \fB:\fP \fI정규식\fP''
와 같다.
.TP
.BI substr " 문자열 위치 길이"
\fI문자열\fP 중에서 \fI위치\fP로부터 최대 \fI길이\fP만큼의 문자열을 뽑아서
반환해준다. 만약 \fI위치\fP 또는 \fI길이\fP가 음수이거나 숫자가 아닐 때는
널 문자열을 반환한다.
.TP
.BI index " 문자열 문자-클래스"
\fI문자열\fP에서 \fI문자-클래스\fP가 처음으로 나타나는 위치를 반환한다.
\fI문자-클래스\fI의 어떤 문자도 \fI문자열\fP에서 찾을 수 없는 경우 0 이
반환된다.
.TP
.BI length " 문자열"
\fI문자열\fP의 길이를 반환한다.
.PP
괄호치기는 그룹묶기에 사용된다. 예약어는 문자열로 사용할 수 없다.
.SS 옵션
GNU
.B expr
이 단 하나의 인수로 실행되면 다음 옵션이 인식된다:
.TP
.I "\-\-help"
표준출력으로 사용법을 출력하고 정상적으로 종료한다.
.TP
.I "\-\-version"
표준출력으로 버전정보를 출력하고 정상적으로 종료한다.
.SH 예
.PP
쉘 변수에 1 을 더하기
.IR a :
.IP
a=\`expr $a + 1\`
.PP
다음은 변수 안에 저장된 화일명에서 디렉토리 이름부분을 출력하는 예이다.
.IR a
(
.IR a
라는 값은 `/'를 포함할 필요없다):
.IP
expr $a : '.*/\e(\^.*\e)' '\^|' $a
.LP
따옴표 처리한(quoted) 쉘의 메타문자를 주목하기 바란다.
.PP
.B expr
은 다음과 같은 종료 상태를 반환한다:
.PP
0 표현식이 널이거나 0이 아닐 때
.br
1 표현식이 널이거나 0일 때
.br
2 잘못된 표현식
.SH 번역자
.br
이 만 용
.B <geoman@nownuri.nowcom.co.kr>
.br
.B "         <freeyong@soback.kornet.nm.kr>"

